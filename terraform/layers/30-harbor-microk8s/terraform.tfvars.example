
harbor_microk8s_compute = {
  cluster_identity = {
    service_name = "harbor"
    component    = "microk8s"
    cluster_name = "30-harbor-microk8s"
  }

  nodes = {
    "harbor-microk8s-node-00" = { ip = "172.16.135.200", vcpu = 2, ram = 4096 }
    "harbor-microk8s-node-01" = { ip = "172.16.135.201", vcpu = 2, ram = 4096 }
    "harbor-microk8s-node-02" = { ip = "172.16.135.202", vcpu = 2, ram = 4096 }
  }

  ha_config = {
    virtual_ip    = "172.16.135.250"
    haproxy_nodes = {} # Use MicroK8s MetalLB/Ingress by Defaults
  }

  base_image_path = "../../../packer/output/03-base-microk8s/ubuntu-server-24-03-base-microk8s.qcow2"
  inventory_file  = "inventory-microk8s-harbor.yaml"
}

harbor_microk8s_infra = {
  network = {
    nat = {
      gateway = "172.16.87.1"
      cidrv4  = "172.16.87.0/24"
      dhcp = {
        start = "172.16.87.2"
        end   = "172.16.87.254"
      }
    }
    hostonly = {
      gateway = "172.16.135.1"
      cidrv4  = "172.16.135.0/24"
    }
  }
  allowed_subnet = "172.16.135.0/24"
}
